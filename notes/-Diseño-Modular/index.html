<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Es el nivel posterior al Dise침o en Codigo, aparte de ser codigo bien inspirado del modelo del dominio que es altamente legible, se agrega que son modulos (o piezas) de codigo que tienen un tama침o homogeneo con alta cohesion y poco acoplamiento."><title>Dise침o Modular</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://jaimayal.github.io/digital-garden//icon.png><link href=https://jaimayal.github.io/digital-garden/styles.b3e1e36b0403ac565c9392b3e23ef3b6.min.css rel=stylesheet><link href=https://jaimayal.github.io/digital-garden/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://jaimayal.github.io/digital-garden/js/darkmode.5d7889c2be4adb5d3002ee0ab22c62aa.min.js></script>
<script src=https://jaimayal.github.io/digital-garden/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://jaimayal.github.io/digital-garden/js/popover.abe6a51cc7138c5dff00f151dd627ad1.min.js></script>
<script src=https://jaimayal.github.io/digital-garden/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://jaimayal.github.io/digital-garden/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://jaimayal.github.io/digital-garden/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://jaimayal.github.io/digital-garden/",fetchData=Promise.all([fetch("https://jaimayal.github.io/digital-garden/indices/linkIndex.02834fd72e9e58c20430c16ef996aaf9.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://jaimayal.github.io/digital-garden/indices/contentIndex.529f2dfe2152ba9034d770892baa48a0.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://jaimayal.github.io/digital-garden",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://jaimayal.github.io/digital-garden",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.7})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/jaimayal.github.io\/digital-garden\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://jaimayal.github.io/digital-garden/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://jaimayal.github.io/digital-garden/>游꺔 Digital Garden</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Dise침o Modular</h1><p class=meta>Last updated
Unknown
<a href=https://github.com/jaimayal/digital-garden/tree/main/content/notes/$%20Dise%c3%b1o%20Modular.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://jaimayal.github.io/digital-garden/tags/ooad/>Ooad</a></li><li><a href=https://jaimayal.github.io/digital-garden/tags/programming/>Programming</a></li></ul><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#abuso-del-patron-experto-en-la-informacion>Abuso del Patron Experto en la Informacion</a></li><li><a href=#criterios>Criterios</a></li><li><a href=#cohesion>Cohesion</a></li><li><a href=#acoplamiento>Acoplamiento</a><ol><li><a href=#visibilidad>Visibilidad</a></li><li><a href=#direccion>Direccion</a></li></ol></li><li><a href=#tama침o>Tama침o</a></li><li><a href=#modularidad>Modularidad</a><ol><li><a href=#numero-de-modulos>Numero de Modulos</a></li><li><a href=#distribucion-de-responsabilidades>Distribucion de Responsabilidades</a></li></ol></li><li><a href=#jerarquizacion>Jerarquizacion</a></li><li><a href=#interfaz---parte-publica>Interfaz - Parte Publica</a><ol><li><a href=#codigo-sucio-por-clases-alternativas-con-interfaces-diferentes>Codigo Sucio por Clases Alternativas con Interfaces Diferentes</a></li><li><a href=#principios-del-menor-compromiso>Principios del Menor Compromiso</a></li><li><a href=#interfaz-suficiente-completa-y-primitiva>Interfaz Suficiente, Completa y Primitiva</a></li></ol></li><li><a href=#dise침o-por-contrato>Dise침o por contrato</a></li><li><a href=#implementacion---vista-privada>Implementacion - Vista Privada</a><ol><li><a href=#cohesion-1>Cohesion</a></li><li><a href=#acoplamiento-1>Acoplamiento</a></li><li><a href=#tama침o-1>Tama침o</a></li></ol></li><li><a href=#patron-de-indireccion>Patron de Indireccion</a></li><li><a href=#patron-de-invencion-pura>Patron de Invencion Pura</a></li><li><a href=#patron-de-vista-separada>Patron de Vista Separada</a></li><li><a href=#patron-controlador>Patron Controlador</a></li><li><a href=#patron-creador>Patron Creador</a></li></ol></nav></details></aside><p>Es el nivel posterior al
<a rel=noopener class="internal-link broken" data-src=notes/Dise%C3%B1o%20en%20Codigo>Dise침o en Codigo</a>, aparte de ser codigo bien inspirado del modelo del dominio que es altamente legible, se agrega que son modulos (o piezas) de codigo que tienen un tama침o homogeneo con alta cohesion y poco acoplamiento.</p><p>Es decir, piezas que tienen un tama침o similar, en el cual cada una ejerce una sola y unica funcion que se acopla con muy pocas piezas porque no es un experto que tiene que realizar todo en la aplicacion.</p><p>Para hacerlo aprovecha e impulsa la abstraccion, encapsulacion, modularidad y jerarquia, busca finalmente crear modulos de alta calidad, es decir, que tengan alta
<a rel=noopener class="internal-link broken" data-src=Mantenibilidad>Mantenibilidad</a>] (escalabilidad, calidad, reusabilidad, etc).</p><a href=#abuso-del-patron-experto-en-la-informacion><h2 id=abuso-del-patron-experto-en-la-informacion><span class=hanchor arialabel=Anchor># </span>Abuso del Patron Experto en la Informacion</h2></a><p>Esta forma de dise침o surge principalmente por un excesivo abuso del
<a href=/digital-garden/notes/Patron-Experto-en-la-Informacion/ rel=noopener class=internal-link data-src=/digital-garden/notes/Patron-Experto-en-la-Informacion/>Patron Experto en la Informacion</a>, de ese modo, una clase puede llegar a tener un acoplamiento excesivo y puede crear clases muy complejas que colabora no solo con una sino con muchas tecnologias y clases a la vez.</p><p>Y no solo eso, sino que acoplas la clase que tiene la informacion con determinada tecnologia de modo que no puede utilizar piezas intercambiables (otro tipo de vista, otro tipo de persistencia, de seguridad, etc).</p><a href=#criterios><h2 id=criterios><span class=hanchor arialabel=Anchor># </span>Criterios</h2></a><p>Esta disciplina del dise침o recupera tres conceptos recurrentes.</p><ul><li>Cohesion (Maxima)</li><li>Acoplamiento (Menor)</li><li>Tama침o (Poco)</li></ul><p>Una buena aplicacion de estos criterios resulta en clases altamente cohesivas y pocamente acopladas (acoplamiento eferente a clases inestables), con un bajo tama침o. Es decir, respetando al maximo el <a class="internal-link broken">Principio KISS</a></p><a href=#cohesion><h2 id=cohesion><span class=hanchor arialabel=Anchor># </span>Cohesion</h2></a><p>Es una medida que nos sirve para determinar que tantas twresponsabilidades tiene un modulo y que tanto se relacionan entre ellas.</p><ul><li>Una clase con alta cohesion tiene las responsabilidades minimas estrechamente relacionadas. Es decir, tiene un minimo numero de metodos altamente relacionados entre si.</li></ul><p>Este elemento es fundamental, se encuentra en todos lados, las nuevas arquitecturas de microservicios por ejemplo, en el que cada uno es dedicado a cierta funcionalidad exponiendo la minima cantidad de cosas que se relacionan estrechamente entre si.</p><p>Objetivos:</p><ul><li>Pocas funcionalidades</li><li>Altamente relacionadas</li></ul><a href=#acoplamiento><h2 id=acoplamiento><span class=hanchor arialabel=Anchor># </span>Acoplamiento</h2></a><p>Es otra medida que nos sirve para determinar la cantidad de <a href=/digital-garden/notes/Relaciones-entre-Clases-Gestion-de-Dependencias rel=noopener class=internal-link data-src=/digital-garden/notes/Relaciones-entre-Clases-Gestion-de-Dependencias>notes/Relaciones entre Clases (Gestion de Dependencias)</a> que tiene un modulo con otro.</p><p>Tener un bajo acoplamiento infiere que existen la minima cantidad de dependencias o colaboracion para llevar acabo la responsabilidad que le concierne.</p><p>De este modo, permite que, si una pieza es reemplazada solo sea afectada la minima cantida de modulos porque sus dependencias son muy pocas.</p><a href=#visibilidad><h3 id=visibilidad><span class=hanchor arialabel=Anchor># </span>Visibilidad</h3></a><a href=#acoplamiento-directo><h4 id=acoplamiento-directo><span class=hanchor arialabel=Anchor># </span>Acoplamiento Directo</h4></a><p>Son todos aquellos dados en cualquier <a href=/digital-garden/notes/Relaciones-entre-Clases-por-Colaboracion rel=noopener class=internal-link data-src=/digital-garden/notes/Relaciones-entre-Clases-por-Colaboracion>notes/Relaciones entre Clases por Colaboracion</a> o <a href=/digital-garden/notes/Relaciones-entre-Clases-por-Herencia rel=noopener class=internal-link data-src=/digital-garden/notes/Relaciones-entre-Clases-por-Herencia>notes/Relaciones entre Clases por Herencia</a>.</p><p>Es decir, para una clase A esta acoplada de una clase B si:</p><ul><li>La tiene como atributo</li><li>La tiene como parametro de un metodo</li><li>La tiene como variable local dentro de un metodo</li><li>La devuelve de un metodo</li><li>Es derivada de ella</li><li>Utiliza sus metodos estaticos</li></ul><a href=#acoplamiento-indirecto><h4 id=acoplamiento-indirecto><span class=hanchor arialabel=Anchor># </span>Acoplamiento Indirecto</h4></a><p>Ocurre cuando:</p><ol><li>Clase A tiene una dependencia directa con la clase B. Y ademas, esta</li><li>Clase B en uno de sus metodos retorna una clase C</li><li>Clase A utiliza este metodo de la Clase B</li><li>Ahora la clase C es utilizada en la clase A de forma indirecta</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Java data-lang=Java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>A</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>main</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>		<span class=k>new</span> <span class=n>B</span><span class=o>().</span><span class=na>getClassPerformer</span><span class=o>().</span><span class=na>someMethod</span><span class=o>();</span> <span class=c1>// Acoplamiento indirecto
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>B</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>classC</span> <span class=nf>getClassPerformer</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>C</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>//...
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kt>void</span> <span class=nf>someMethod</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#direccion><h3 id=direccion><span class=hanchor arialabel=Anchor># </span>Direccion</h3></a><a href=#acoplamiento-aferente---reusabilidad><h4 id=acoplamiento-aferente---reusabilidad><span class=hanchor arialabel=Anchor># </span>Acoplamiento Aferente - Reusabilidad</h4></a><p>Quienes dependen de mi para realizar sus funciones, ya sea por colaboracion, por herencia o por acoplamiento indirecto.</p><ul><li>Cuando esta clase es la usada en una relacion de uso</li><li>Cuando esta clase es una parte de una relacion de composicion</li><li>Cuando esta clase es el asociado en una relacion de asociacion</li><li>Cuando esta clase es padre de otras clases.</li></ul><a href=#acoplamiento-eferente---dependencias><h4 id=acoplamiento-eferente---dependencias><span class=hanchor arialabel=Anchor># </span>Acoplamiento Eferente - Dependencias</h4></a><p>De quien dependeno para reaizar mi funcion, se identifica mediante relaciones de colaboracion, herencia o por acoplamiento indirecto.</p><ul><li>Cuando esta clase es la que usa a otras en una relacion de uso</li><li>Cuando esta clase es el todo en una relacion de composicion</li><li>Cuando esta clase es la que requiere de un asociado en una relacion de asociacion</li><li>Cuando esta clase es hija de una superclase.</li></ul><p>Se puede permitir el acoplamiento alto si:</p><ul><li>Las clases a las que estoy acoplado son muy estables y generalizadas (como libreria de Java)</li></ul><p>Normalmente habra un grado medio de acoplamiento si estoy trabajando para realizar mis funciones</p><p>Se busca un bajo acoplamiento de clases que son inestables y que pueden tender a ser cambiadas a futuro (de interfaz o de implementacion).</p><p>Estas propiedades estan fuertemente relacionadas, si se impulsa para bien una de ellas de forma inferente se impulsara la otra.</p><a href=#tama침o><h2 id=tama침o><span class=hanchor arialabel=Anchor># </span>Tama침o</h2></a><p>Sirven como una referencia a tener en cuenta para escribir codigo de calidad, no se deben seguir a rajatabla sin embargo establecen un punto de partida para permitir identificar codigo de calidad.</p><ul><li>Paquete - 12 a 20 clases</li><li>Clase - 3 a 5 atributos</li><li>Clase - 15 a 25 metodos</li><li>Clase - 200 a 500 lineas</li><li>Metodo - 1 a 3 parametros</li><li>Metodo - 10 a 25 lineas</li><li>Metodo - 2 a 3 sentencias anidadas</li><li>Linea - 80 a 120 caracteres</li></ul><p><strong>Son solo valores orientativos</strong>.</p><a href=#modularidad><h2 id=modularidad><span class=hanchor arialabel=Anchor># </span>Modularidad</h2></a><a href=#numero-de-modulos><h3 id=numero-de-modulos><span class=hanchor arialabel=Anchor># </span>Numero de Modulos</h3></a><p>La cantidad de modulos por programa debe ser ajustada a la cantidad de codigo que tendra cada una.</p><p>Al realizar dise침o modular existen dos costes principales.</p><ul><li>Costo por Implementacion. Lo que cuesta escribir cada clase (cantidad de lineas).</li><li>Costo por Integracion. Lo que cuesta integrar todas las clases con un buen dise침o.</li></ul><a href=#distribucion-de-responsabilidades><h3 id=distribucion-de-responsabilidades><span class=hanchor arialabel=Anchor># </span>Distribucion de Responsabilidades</h3></a><p>El problema debe ser dividido entre distintos modulos de modo que todos aporten algo a resolver el problema de forma relativamente equitativa</p><a href=#jerarquizacion><h2 id=jerarquizacion><span class=hanchor arialabel=Anchor># </span>Jerarquizacion</h2></a><p>Existen dos formas de jerarquizar el dise침o para resolver un problema</p><ul><li>Top Down<ol><li>Se desarrolla la clase principal</li><li>Se escriben sus atributos privados</li><li>Se escribe su interfaz publica</li><li>Se codifican las interfaces</li><li>Se instancian objetos y se usan metodos conforme sean necesarios de otras clases.</li><li>Se evalua que clase de las que faltan es la mas riesgosa de escribir</li><li>Se vuelve al paso 2</li></ol></li><li>Me hago el diagrama de clases en el que hago el reparto de responsabilidades e inicio con el metodo top down</li><li>Un dise침o es un diagrama UML que puede servir para plantearse el codigo antes de escribirlo</li></ul><a href=#interfaz---parte-publica><h2 id=interfaz---parte-publica><span class=hanchor arialabel=Anchor># </span>Interfaz - Parte Publica</h2></a><p>Los smell codes contribuyen a tener un pesimo codigo.</p><ul><li>Homogenea. Nombrado, orden de parametros, valores de retorno</li><li>Suficiente. Que no haya efectos secundarios, que solo sean acciones unicas.</li><li>Minima. Que ofrezca la interfaz minima suficiente para satisfacer las necesidades basicas (primitivas) y nada mas.</li></ul><p><strong>Una buena interfaz publica debe de ser minima, ofreciendo los metodos suficientes de forma homogenea para que otros lleven acabo sus operaciones</strong></p><a href=#codigo-sucio-por-clases-alternativas-con-interfaces-diferentes><h3 id=codigo-sucio-por-clases-alternativas-con-interfaces-diferentes><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Clases Alternativas con Interfaces Diferentes</h3></a><p>Se debe homogeneizar el nombrado que se le da a las cosas de escencia similar dentro del codigo, tratar de mantener una terminologia homogenea en el como son nombrados los metodos publicos a traves de todas las clases es algo a lograr.</p><ul><li>Homogeneizar los nombres</li><li>Utilizar herencia por extension o implementacion</li><li>Mover responsabilidades</li></ul><a href=#principios-del-menor-compromiso><h3 id=principios-del-menor-compromiso><span class=hanchor arialabel=Anchor># </span>Principios del Menor Compromiso</h3></a><p>Una clase solo debe exponer en su interfaz publica los metodos suficientes como para que desarrolle su unico trabajo sin tener efectos secundarios o tener metodos que no van de acuerdo con el nombrado / los datos que tiene.</p><p><strong>Cada metodo tiene que ser un unico verbo, e implementa solo lo que dice</strong>.</p><a href=#interfaz-suficiente-completa-y-primitiva><h3 id=interfaz-suficiente-completa-y-primitiva><span class=hanchor arialabel=Anchor># </span>Interfaz Suficiente, Completa y Primitiva</h3></a><ul><li>Suficientes caracteristicas para satisfacer las funcionaldiades que debe proveer a otras clases</li><li>Primitiva. Solo contener operaciones que son primitivas para esta clase y no requiere de muchas especificaciones.</li></ul><a href=#dise침o-por-contrato><h2 id=dise침o-por-contrato><span class=hanchor arialabel=Anchor># </span>Dise침o por contrato</h2></a><p>Tres terminologias</p><ul><li>Error</li><li>Defecto</li><li>Fallo</li></ul><p>Dos tipos de errores</p><ul><li>Errores Excepcionales</li><li>Errores logicos</li></ul><p>Dos mecanismos para lidiar con fallos</p><ul><li>Programacion Defensiva</li><li>Aserciones</li></ul><p>El dise침o por contrato establece un contrato entre dos partes, el cliente y el servidor.
El cliente de un metodo es quien le esta llamando, el servidor es el que procesa la entrada y del que se espera obtener un resultado.</p><p>El dise침o por contrato concibe que estas dos partes tengan un contrato formal en el que se establecen:</p><ol><li>Las precondiciones que debe de cumplir un cliente para llamar una funcion</li><li>Las postcondiciones que debe de cumplir el servidor y retornarle al cliente</li></ol><p>De esta forma, las dos partes del contrato pueden estar seguras que ambas cumpliran con su parte y pueden avanzar de forma segura.</p><p>Para implementarlo se suele utilizar los assert.</p><a href=#implementacion---vista-privada><h2 id=implementacion---vista-privada><span class=hanchor arialabel=Anchor># </span>Implementacion - Vista Privada</h2></a><a href=#cohesion-1><h3 id=cohesion-1><span class=hanchor arialabel=Anchor># </span>Cohesion</h3></a><ul><li>Cohesion de Metodos</li><li>Principio de Unica Responsabilidad (S de SOLID)</li><li>Responsabilidad fuera de Lugar. La responsabilidad no esta donde deberia de estar<ul><li>Condigo Sucio por Envidia de Caracteristicas</li><li>Codigo Sucio por Clase de Datos</li><li>Codigo Sucio por Cambios Divergentes</li></ul></li><li>Sin clase para una Responsabilidad. Sin nadie puede asumir la responsabilidad<ul><li>Codigo Sucio por Cirugia a Escopetazos</li><li>Codigo Sucio por Grupo de Datos</li><li>Codigo Sucio por Obsesion de Tipos Primitivos</li></ul></li><li>Clase sin Responsabilidad. Existe una clase pero no tiene nada por hacer<ul><li>Codigo Sucio por Clases Perezosas</li></ul></li></ul><a href=#cohesion-de-metodos><h4 id=cohesion-de-metodos><span class=hanchor arialabel=Anchor># </span>Cohesion de Metodos</h4></a><ul><li>Las funciones deberian hacer una sola cosa.</li><li>Violaciones<ul><li>Las funciones realizan mas de una operacion</li><li>Las lineas persiguen objetivos distintos a lo que espeifica el metodo</li><li>Falta de Cohesion en el metodo</li></ul></li><li>Solucion<ul><li>Dividir las distintas lineas de distinto tipo en diferentes funciones</li><li>Evitar el acoplamiento entre distintas funcionalidades de una clase
<strong>Pedirle Cohesion a un metodo</strong></li></ul></li></ul><a href=#principio-de-unica-responsabilidad><h4 id=principio-de-unica-responsabilidad><span class=hanchor arialabel=Anchor># </span>Principio de Unica Responsabilidad</h4></a><p>Una clase cohesiva (como deberia de estar hecha) solo <strong>deberia tener un unico motivo de cambio</strong>, es decir, solo se deberia ver afectada por una unica cosa (persistencia, vista, comunicacion solo uno pero no todos a la ves).</p><p><strong>Pedirle cohesion a una clase</strong>.</p><a href=#codigo-sucio-por-envidia-de-caracteristicas><h4 id=codigo-sucio-por-envidia-de-caracteristicas><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Envidia de Caracteristicas</h4></a><p>Una clase que envidia a otra clase pidiendole todo el rato sus caracteristicas para hacer los calculos en vez de que la clase que tiene los datos hacerlos.</p><p>Es decir, no se respeta el Patron Experto en la Informacion.</p><a href=#codigo-sucio-por-clase-de-datos><h4 id=codigo-sucio-por-clase-de-datos><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Clase de Datos</h4></a><p>El otro lado de la moneda, en este caso la clase que permite que le pidan todo y queno calcula nada es la clase de Datos.</p><a href=#codigo-sucio-por-cambios-divergentes><h4 id=codigo-sucio-por-cambios-divergentes><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Cambios Divergentes</h4></a><p>Ocurre cuando una clase puede ser afectada por multiples cambios, es decir, si se cambia una tecnologia se cambiara una parte, si se cambia la persistencia otra parte, si se cambia la vista otra parte. Eso esta mal, una clase solo deberia ser afectada por una sola cosa.</p><p>La solucion seria dividir esta en diferentes clases.</p><a href=#codigo-sucio-por-cirugia-a-escopetazos><h4 id=codigo-sucio-por-cirugia-a-escopetazos><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Cirugia a Escopetazos</h4></a><p>Es el lado contrario al anterior, en vez de que exista una clase que se encargue de una responsabilidad, esta responsabilidad esta distribuida a traves de multiples clases y si es cambiada tiene que cambiar en varios lugares a la ves.</p><a href=#codigo-sucio-por-grupo-de-datos><h4 id=codigo-sucio-por-grupo-de-datos><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Grupo de Datos</h4></a><p>Hay grupos de datos que son utilizados en muchos lados y que en realidad deberia estar como una clase y no como datos separados.</p><p>La solucion es crear una clase que ademas de ser reusable puede asumir responsabilidad y aliviar a otras clases.</p><a href=#codigo-sucio-obsesion-por-tipos-primitivos><h4 id=codigo-sucio-obsesion-por-tipos-primitivos><span class=hanchor arialabel=Anchor># </span>Codigo Sucio Obsesion por Tipos Primitivos</h4></a><p>Ocurre cuando en vez de utilizar una clase (donde es necesario porque se requieren operaciones) se utiliza un primitivo con el argumento de que una clase de un atributo no existe.</p><a href=#codigo-sucio-por-clases-perezosas><h4 id=codigo-sucio-por-clases-perezosas><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Clases Perezosas</h4></a><p>Una clase que tiene muy pocos datos y ni siquiera hace operaciones, es perezosa. Puede ser como un holder nada mas de datos que no hace nada.</p><a href=#acoplamiento-1><h3 id=acoplamiento-1><span class=hanchor arialabel=Anchor># </span>Acoplamiento</h3></a><a href=#codigo-sucio-inapropiada-intimidad-evita-los-ciclos---no-te-acoples-en-ciclos><h4 id=codigo-sucio-inapropiada-intimidad-evita-los-ciclos---no-te-acoples-en-ciclos><span class=hanchor arialabel=Anchor># </span>Codigo Sucio Inapropiada Intimidad (Evita los ciclos). - No te acoples en ciclos</h4></a><p>Una relacion bidireccional complica el codigo y muchas veces crea ciclos muy complejos que hacen al codigo dificil de manejar</p><ul><li>Para quitar una relacion bidireccional se debe abstraer eso que tienen en comun las dos clases (se debe cosificar) en otra clase aparte. Entre Compra y Venta se deben conocer, para eviarlo se crea la clase CompraVenta,</li></ul><a href=#leyes-de-demeter---no-te-acoples-con-quien-no-conoces><h4 id=leyes-de-demeter---no-te-acoples-con-quien-no-conoces><span class=hanchor arialabel=Anchor># </span>Leyes de Demeter - No te acoples con quien no conoces</h4></a><p>Son un conjunto de leyes obtenidas desde un proyecto. En el cual se dictamenta que UNICAMENTE SE PUEDE COLABORAR CON:</p><ul><li>this</li><li>Parametros</li><li>Atributos</li><li>Objetos Locales</li></ul><p>Por tanto, nunca se debe interactuar con un encadenamiento de mensajes obtenidas de enviar un mensaje a otro objeto. Es decir EVITAR EL ACOPLAMIENTO INDIRECTO A TODA COSTA.</p><a href=#codigo-sucio-por-libreria-incompleta---no-te-acoples-a-librerias><h4 id=codigo-sucio-por-libreria-incompleta---no-te-acoples-a-librerias><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Libreria Incompleta - No te acoples a librerias</h4></a><p>Crea una clase para englobar una libreria, no hagas que la libreria interaccione con todos y despues, cuando quieras cambiar la libreria, se tenga que hacer una cirugia a escopetazos.</p><p>ENCAPSULA LA LIBRERIA EN UNA SOLA CLASE. PATRON FACHADA.</p><p>La libreria da las primitivas (en su interfaz) y es nuestro deber encapsular para reducir el acoplamiento que tenemos a ella.</p><a href=#tama침o-1><h3 id=tama침o-1><span class=hanchor arialabel=Anchor># </span>Tama침o</h3></a><a href=#codigo-sucio-por-listas-de-parametros-largas><h4 id=codigo-sucio-por-listas-de-parametros-largas><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Listas de Parametros Largas</h4></a><p>Es una variacion del smell code de Grupos de Datos, cuando, en vez de utilizar una clase cohesivas que encapsule operaciones y datos se utilizan un grupo de valores primitivos, lo que incrementa mucho la complejidad de los metodos o clases.</p><p>En base a las heuristicas lo maximo serian 2 -3 parametros por metodo.</p><p>Para tener cero parametros se necesitan de establecer buenas relaciones entre las clases. Muchas veces no hay necesidad de tenerlas</p><a href=#codigo-sucio-por-metodos-largos><h4 id=codigo-sucio-por-metodos-largos><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Metodos Largos</h4></a><p>Todos los metodos deben ser peque침os 10 a 15 lineas</p><a href=#codigo-sucio-por-clases-grandes><h4 id=codigo-sucio-por-clases-grandes><span class=hanchor arialabel=Anchor># </span>Codigo Sucio por Clases Grandes</h4></a><p>Siguiendo las metricas tambien deben ser peque침as 200 a 500 lineas</p><a href=#patron-de-indireccion><h2 id=patron-de-indireccion><span class=hanchor arialabel=Anchor># </span>Patron de Indireccion</h2></a><p>Los niveles de abstraccion ayudan a reducir el acoplamiento de la cantidad de elementos con los que se trabaja.</p><p>Para agregar un nivel de abstraccion en codigo basta con agregar una clase y posteriormente utilizar su interfaz publica para ejecutar las operaciones de los elementos que engloba.</p><p>No necesariamente se puede agregar una, se pueden agregar varias e incrementar la Cohesion, dividir un problema y dividir responsabilidades.</p><p><strong>Todo se resuelve con mas clases, que reduzcan las responsabilidades y reduzcan el acoplamiento</strong></p><a href=#patron-de-invencion-pura><h2 id=patron-de-invencion-pura><span class=hanchor arialabel=Anchor># </span>Patron de Invencion Pura</h2></a><p>Inventate todas las clases que te hagan falta, mientras mantengan un conjunto altamente cohesivo de operaciones aunque no representen a un objeto del modelo del dominio en particular. Todo esto mientras no hagas YAGNI, NO TE INVENTES PROBLEMAS, creala donde veas que hay mucha</p><a href=#patron-de-vista-separada><h2 id=patron-de-vista-separada><span class=hanchor arialabel=Anchor># </span>Patron de Vista Separada</h2></a><p>Nunca hagas un modulo que interactue con el usuario, comunicacion o que sea cualquier interfaz para cualquier canal externo. SEPARA LAS COMUNICACIONES, LA PANTALLA Y TUS MODELOS.</p><p>Todas las clases con System.out y todo deben ir en otra clase. Para trabajar con ficheros otra clase, para trabajar con GUI otra clase.</p><p><strong>Una vista es todo aquello que recibe, lee y valida la informacion que proviene de un sitio externo al software</strong>.</p><a href=#patron-controlador><h2 id=patron-controlador><span class=hanchor arialabel=Anchor># </span>Patron Controlador</h2></a><p><strong>Un controlador maneja el evento proveniente de una vista, se encarga de mantener la logica</strong></p><p>Por tanto en resumen, tenemos tres capas.</p><ul><li>Modelos</li><li>Controladores</li><li>Vistas</li></ul><p>Las vistas son con lo que el usuario final interactua, este unicamente se encarga de recibir datos que pueden provenir desde multiples fuentes (una API, un archivo, un usuario u otro).</p><p>Los controladores son aquellos que se encargan de procesar un pedido SIN IMPORTAR EL MEDIO DEL QUE PROVENGA, debido a que las vistas ya prepararon todo para que llegue como me tiene que llegar por el contrato.</p><p>Los modelos se encargan de ejecutar y administrar las peticiones ya evaluadas, son los datos sensibles y no pueden estar siendo modificadas asi sin mas.</p><a href=#patron-creador><h2 id=patron-creador><span class=hanchor arialabel=Anchor># </span>Patron Creador</h2></a><p>Debido a que, la solucion a los problemas de dise침o (para lograr una buena cohesion con bajo acoplamiento y bajo tama침o) es agregar clases las cuales pueden venir del modelo o ser inventadas (Como las vistas y los controladres), el patron creador viene para resolver toda esa conglomeracion de creacion de objetos y clases que pueden hacer que un sistema se vuelva dificil de manejar.</p><ul><li>Factorias</li><li>Builder</li></ul><p>En el caso de una aplicacion de Spring.</p><ul><li>Lo comunmente llamado &ldquo;Controller&rdquo; (o donde recide toda la llegada de comunicacion mediante endpoints HTTP) es la Vista.</li><li>Lo comunmente llamado &ldquo;Service&rdquo; (o donde recide toda la logica de negocio fuerte) es el controlador.</li></ul><p>La capa Controller solo se encarga de recibir peticiones y remover todo lo relacionado con HTTP, al servicio nada mas le llegan los datos y el lo procesa, ni siquiera sabe que llegan por HTTP, bien podria ser cambiado por una app de Swing y no hay ningun problema.</p><ul><li>Vista, una por cada protocolo de comunicacion, interfaz o forma de recibir datos</li><li>Controlador, uno por cada caso de uso que se necesitan</li><li>Modelo, inspirados del modelo del dominio, datos duros</li></ul><p>Inyeccion de Dependencias = Relacion por Asociacion</p><p><strong>TODOS LOS PROBLEMAS DE DISE칌O, DESACOPLAMIENTO, COHESION SE ARREGLAN AGREGANDO MAS CLASES.</strong></p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/digital-garden/notes/-Dise%C3%B1o-orientado-a-Objetos/ data-ctx="$ Dise침o Modular" data-src=/notes/-Dise%C3%B1o-orientado-a-Objetos class=internal-link>Dise침o orientado a Objetos</a></li><li><a href=/digital-garden/notes/Analisis-y-Disenio/ data-ctx="$ Dise침o Modular" data-src=/notes/Analisis-y-Disenio class=internal-link>Analisis y Dise침o</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://jaimayal.github.io/digital-garden/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Jaimayal using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, 춸 2022</p><ul><li><a href=https://jaimayal.github.io/digital-garden/>Home</a></li><li><a href=https://github.com/Jaimayal>Github</a></li></ul></footer></div></div></body></html>